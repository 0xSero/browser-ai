import{i18n,browser,isFirefox}from"../js/cllama.js";async function openPage(t,e){var n,i;isFirefox?(n=browser.sidebarAction,i=browser.runtime.getURL(t),n.open(),n.setPanel({panel:i}),n.setTitle({title:"cllama-"+browser.i18n.getMessage(e)})):browser.tabs.query({active:!0,currentWindow:!0},e=>{browser.sidePanel.setOptions({enabled:!0,path:t,tabId:e[0].id}),browser.sidePanel.open({tabId:e[0].id})})}document.getElementById("insightify").addEventListener("click",async e=>{openPage("/insightify/insightify.html","Insightify"),window.close(),e.preventDefault()}),document.getElementById("chat").addEventListener("click",async e=>{openPage("/chat/chat.html","chat"),window.close(),e.preventDefault()}),document.getElementById("settings").addEventListener("click",async e=>{browser.runtime.openOptionsPage(),window.close(),e.preventDefault()}),document.addEventListener("DOMContentLoaded",async()=>{i18n()});