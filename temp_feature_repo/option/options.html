<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/cllama.css" rel="stylesheet">
    <link href="options.css" rel="stylesheet">
    <script src="/js/bootstrap.min.js"></script>
</head>
<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
		<symbol id="circle-half" viewBox="0 0 16 16">
		  <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
		</symbol>
		<symbol id="moon-stars-fill" viewBox="0 0 16 16">
		  <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z" />
		  <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z" />
		</symbol>
		<symbol id="sun-fill" viewBox="0 0 16 16">
		  <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z" />
		</symbol> 
		<symbol id="upload" viewBox="0 0 512 512">
		  <path d="M288 109.3L288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-242.7-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352l128 0c0 35.3 28.7 64 64 64s64-28.7 64-64l128 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"/>
		</symbol>   
		<symbol id="import" viewBox="0 0 512 512">
		  <path d="M128 64c0-35.3 28.7-64 64-64L352 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64l-256 0c-35.3 0-64-28.7-64-64l0-112 174.1 0-39 39c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l39 39L128 288l0-224zm0 224l0 48L24 336c-13.3 0-24-10.7-24-24s10.7-24 24-24l104 0zM512 128l-128 0L384 0 512 128z"/>
		</symbol> 
    <symbol id="eye" viewBox="0 0 576 512">
		  <path d="M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"/>
		</symbol>
    <symbol id="eye-slash" viewBox="0 0 640 512">
		  <path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"/>
		</symbol>                  
    </svg>    
  <div class="card">
    <div class="card-header">
        <div class="row">
          <div class="col"><h3 style="margin-bottom: 0px;padding-top: 3px;">cllama-<span class="i18n" i18n="text">settings</span></h3></div>
          <div class="col-auto ms-auto">
            <div class="nav-item dropdown">
              <button class="btn btn-link nav-link px-0 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown"
                data-bs-display="static" aria-label="Toggle theme (auto)">
                <svg class="bi me-2 theme-icon-active"><use href="#circle-half"></use></svg>
                <span class="d-none ms-2" id="bd-theme-text">Toggle theme</span>
              </button>
              <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text">
                <li>
                  <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                    <svg class="bi me-2 opacity-50 theme-icon"><use href="#sun-fill"></use></svg>
                    Light
                  </button>
                </li>
                <li>
                  <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                    <svg class="bi me-2 opacity-50 theme-icon"><use href="#moon-stars-fill"></use></svg>
                    Dark
                  </button>
                </li>
                <li>
                  <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                    <svg class="bi me-2 opacity-50 theme-icon" width="1em" height="1em">
                      <use href="#circle-half"></use></svg>
                    Auto
                    <svg class="bi ms-auto d-none" width="1em" height="1em">
                      <use href="#check2"></use></svg>
                  </button>
                </li>
              </ul>
            </div>
          </div>
        </div>
    </div>
    <div class="card-body">

      <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
          <a class="nav-link active i18n" id="aiserver-tab" data-bs-toggle="tab" href="#nav-aiserver" role="tab" aria-controls="nav-aiserver" aria-selected="true">settings</a>
          <a class="nav-link i18n" id="export-tab" data-bs-toggle="tab" href="#nav-export" role="tab" aria-controls="nav-export" aria-selected="false">export</a>
          <a class="nav-link i18n" id="import-tab" data-bs-toggle="tab" href="#nav-import" role="tab" aria-controls="nav-import" aria-selected="false">import</a>
        </div>
      </nav>
      <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane opane fade show active" id="nav-aiserver" role="tabpanel" aria-labelledby="nav-aiserver-tab">
          <form id="settingsForm" class="needs-validation">
            <div class="mb-3">

                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                    <input type="radio" class="btn-check" name="service" id="ollama" value="ollama" autocomplete="off" checked>
                    <label class="btn btn-outline-primary llmtype" for="ollama"  data-url="http://localhost:11434">Ollama</label>
                  
                    <input type="radio" class="btn-check" name="service" id="OpenAI" value="OpenAI" autocomplete="off">
                    <label class="btn btn-outline-primary llmtype" for="OpenAI" data-url="https://api.openai.com/v1/completions">OpenAI</label>
                  
                    <!-- <input type="radio" class="btn-check" name="service" id="Claude" value="Claude" autocomplete="off">
                    <label class="btn btn-outline-primary llmtype" for="Claude" data-url="https://api.suanli.cn/v1/chat/completions">Claude</label>                     -->

                    <input type="radio" class="btn-check" name="service" id="DeepSeek" value="DeepSeek" autocomplete="off">
                    <label class="btn btn-outline-primary llmtype" for="DeepSeek" data-url="https://api.deepseek.com/chat/completions">DeepSeek</label>

                    <input type="radio" class="btn-check" name="service" id="Google" value="Google" autocomplete="off">
                    <label class="btn btn-outline-primary llmtype" for="Google" data-url="https://generativelanguage.googleapis.com/v1beta/chat/completions">Google</label>

                    <input type="radio" class="btn-check" name="service" id="ZhiPu" value="ZhiPu" autocomplete="off">
                    <label class="btn btn-outline-primary llmtype" for="ZhiPu" data-url="https://open.bigmodel.cn/api/paas/v4/chat/completions">ZhiPu</label>                    

                    <input type="radio" class="btn-check" name="service" id="Qwen" value="Qwen" autocomplete="off">
                    <label class="btn btn-outline-primary llmtype" for="Qwen" data-url="https://api.suanli.cn/v1/chat/completions">Qwen</label>                    

                </div>            
            </div>
            <div class="mb-3">
                <label for="apiUrl" class="form-label i18n">ollamaHostLabel</label>
                <input type="text" 
                      class="form-control mflag is-must"
                      id="apiUrl"
                      value=""
                      required>
            </div>

            <div class="mb-3">
                <label for="apiKey" class="form-label">ApiKey</label>
                <div class="input-group">
                  <input type="password"  class="form-control mflag" id="apiKey" value="">
                  <span class="input-group-text password-toggle" id="togglePassword">
                    <svg class="bi me-2"><use id="eyeOrEyeslash" href="#eye"></use></svg>
                  </span>
                </div>  
            </div>            

            <div class="mb-3">
                <label for="modelName" class="form-label i18n">modelNameLabel</label>
                <select id="modelName" class="form-control is-must"></select>  
            </div>


            <div class="mb-3">
                <label for="tranPrompt" class="form-label i18n">tranPromptLabel</label>
                <textarea class="form-control is-must" 
                    id="tranPrompt"
                    rows = "5"
                    required></textarea>
            </div>    
            <div class="d-flex justify-content-center mt-3">
             <a class="btn btn-primary w-50 i18n" id="b_save">save</a>
            </div>

          </form>        
        </div>
        <div class="tab-pane  opane fade" id="nav-export" role="tabpanel" aria-labelledby="nav-export-tab">
            <div class="card-body">
              <form id="exportForm">
                  <div class="mb-4">
                      <div class="list-group">

                          <div class="list-group-item option-item py-2 selected">
                              <div class="form-check">
                                  <input class="form-check-input" type="checkbox" id="basicSettings" name="exportOptions" checked value="base">
                                  <label class="form-check-label i18n" for="basicSettings">expBaseData</label>
                              </div>
                          </div>
                          
                          <div class="list-group-item option-item py-2 selected">
                              <div class="form-check">
                                  <input class="form-check-input" type="checkbox" id="featureSettings" name="exportOptions" checked value="actionList">
                                  <label class="form-check-label i18n" for="featureSettings">expInsightTasks</label>
                              </div>
                          </div>
                          
                          <!-- 适配设置 -->
                          <div class="list-group-item option-item py-2 selected">
                              <div class="form-check">
                                  <input class="form-check-input" type="checkbox" id="adaptationSettings" name="exportOptions" checked value="urls">
                                  <label class="form-check-label i18n" for="adaptationSettings">expCssSelector</label>
                              </div>
                          </div>
                          
                          <!-- 引导设置 -->
                          <div class="list-group-item option-item py-2 selected">
                              <div class="form-check">
                                  <input class="form-check-input" type="checkbox" id="guideSettings" name="exportOptions" checked value="chatTpaList">
                                  <label class="form-check-label i18n" for="guideSettings">expScenarioPresets</label>
                              </div>
                          </div>
                          
                          <!-- 洞察数据 -->
                          <div class="list-group-item option-item py-2 selected">
                              <div class="form-check">
                                  <input class="form-check-input" type="checkbox" id="insightData" name="exportOptions" value="insightList">
                                  <label class="form-check-label i18n" for="insightData">expInsightData</label>
                              </div>
                          </div>
                          
                          <!-- 聊天数据 -->
                          <div class="list-group-item option-item py-2 selected">
                              <div class="form-check">
                                  <input class="form-check-input" type="checkbox" id="chatData" name="exportOptions" value="chatData">
                                  <label class="form-check-label i18n" for="chatData">expChatRecords</label>
                              </div>
                          </div>
                      </div>
                  </div>
                  
                  <div class="d-flex justify-content-center mt-4">
                      <a href="#" id="a_export" class="btn btn-primary w-50 i18n">export</a>
                  </div>
              </form>
          </div>
        </div>
        <div class="tab-pane opane fade i18n" id="nav-import" role="tabpanel" aria-labelledby="nav-import-tab">

          <div class="container">
            <div class="text-center mt-5">
              <p class="text-muted mb-4 i18n">importPromptMsg1</p>
              <div class="mb-4">
                  <label for="jsonFile" class="file-input-label">
                      <h5 class="i18n">importPromptMsg2</h5>
                      <div id="fileName" class="file-name"></div>
                      <p class="text-muted small i18n">importPromptMsg3</p>
                  </label>
                  <input type="file" id="jsonFile" class="file-input" accept=".json">
              </div>
              
              <a id="b_upload" href="#" class="btn btn-primary w-50" style="padding: 0.5rem;">
                <svg class="bi me-2" style="vertical-align:-0.3rem;"><use href="#import"></use></svg><span class="i18n">import</span>
              </a>
            </div>

            <div class="alert alert-info mt-5 i18n">importWarnMsg1</div>

          </div>

        </div>
      </div>

    </div>
  </div>
  <script src="options.js" type="module"></script>
</body>
</html>